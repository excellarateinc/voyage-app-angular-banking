<div fxLayout="row" style="height:100%; padding-bottom:30px;">
  <md-card fxFlex style="padding:0">
    <md-sidenav-container style="height:100%;background-color:white;">
      <md-sidenav mode="side" opened="true" style="width: 200px;box-shadow: 0 0 5px rgba(0,0,0,.2);">
        <md-toolbar style="background-color:white;">
          <span>Channels</span>
        </md-toolbar>
        <md-nav-list>
          <md-list-item *ngFor="let channel of channels" (click)="selectChannel(channel)" [ngClass]="{'active-channel': channel.channelId === currentChannel?.channelId}">
            <div>
              <md-icon>chat</md-icon>
            </div>
            <div style="padding-top:10px;padding-left:10px;">
              <span mdLine>{{channel.name}}</span>
              <p mdLine>{{channel.createDate | date:'short'}}</p>
            </div>
          </md-list-item>
        </md-nav-list>
      </md-sidenav>

      <div style="padding:20px;">

        <div fxLayout="row" style="margin-bottom:20px;" *ngFor="let message of currentChannel?.messages;">
          <div style="padding-left:10px;padding-right:10px;">
            <div class="chat-bubble">
              <span style="font-size:14px;">{{message.message}}</span>
            </div>
            <div style="margin-top:5px;">
              <span style="font-size:13px;font-style:italic;">{{message.username}} - {{message.createDate | date:'short'}}</span>
            </div>
          </div>
          <span fxFlex></span>
        </div>

        <div *ngIf="currentChannel == null">
          <h1>Choose a channel on the left to chat.</h1>
        </div>

        <div *ngIf="currentChannel != null" fxLayout="row" style="border-top: 1px solid rgba(0,0,0,.12); margin-top: 2rem; padding: 1.5rem 2rem;">
          <div fxFlex fxLayout="row">
            <md-input-container fxFlex>
              <input type="text" mdInput placeholder="Send Message" [(ngModel)]="newMessage" />
            </md-input-container>
            <button md-fab color="primary" style="margin-left:30px" (click)="createMessage(newMessage)">
              <md-icon>send</md-icon>
            </button>
          </div>
        </div>
      </div>
    </md-sidenav-container>
  </md-card>
</div>
